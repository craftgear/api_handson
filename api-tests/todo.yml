version: "1.0"
name: API Hands On
config:
  http:
    baseURL: http://localhost:3000
tests:
  todos:
    name: Operations about todos
    steps:
      - id: getTodos
        http:
          url: /v1/todos
          method: GET
          check:
            status: 200
            schema:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: number
                  title:
                    type: string
                    minLength: 1
                  done:
                    type:
                      - boolean
                      - "null"
                    default: false
                  doneAt:
                    type:
                      - string
                      - "null"
                required:
                  - id
                  - title
      - id: createTodo
        http:
          url: /v1/todos
          method: POST
          headers:
            Content-Type: application/json
            accept: application/json
          json:
            title: dolor et
          check:
            status: 200
            schema:
              type: object
              properties:
                id:
                  type: number
                title:
                  type: string
                  minLength: 1
                done:
                  type:
                    - boolean
                    - "null"
                  default: false
                doneAt:
                  type:
                    - string
                    - "null"
              required:
                - id
                - title
      - id: completeTodo
        http:
          url: /v1/todos/1/complete
          method: PATCH
          check:
            status: 200
            schema:
              type: object
              properties:
                id:
                  type: number
                title:
                  type: string
                  minLength: 1
                done:
                  type:
                    - boolean
                    - "null"
                  default: false
                doneAt:
                  type:
                    - string
                    - "null"
              required:
                - id
                - title
components:
  schemas: {}
